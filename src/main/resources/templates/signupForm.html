<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>회원가입 페이지</title>
</head>
<body>

<h1>회원가입 페이지</h1>
<form method="post" action="auth/sign-up">
    <div>아이디:<br>
        <input type="text" id="username" name="username" placeholder="아이디"></div>
    <br>
    <div>비밀번호:<br>
        <input type="password" id="password" name="password" placeholder="비밀번호"></div>
    <br>
    <div>나이:<br>
        <input type="text" id="age" name="age" placeholder="나이"></div>
    <br>
    <input id="joinBtn" type="submit" value="회원가입">
</form>

</body>
</html>


<script>
    document.getElementById('joinBtn').addEventListener('click', function(e) {
        e.preventDefault();
        var formData = {
            username: document.getElementById('username').value,
            password: document.getElementById('password').value,
            age: document.getElementById('age').value
        };

        fetch('/auth/sign-up', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(formData)
        })
            .then(response => {
                if(response.ok) {
                    alert('회원가입 성공');
                    window.location.href = "/";
                } else {
                    alert('회원가입 실패');
                }
            })
            .catch(error => console.error('Error:', error));
    });
</script>

</body>
</html>
